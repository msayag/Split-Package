group 'Tutorials'
version '1.0-SNAPSHOT'
ext.moduleName = 'split.package'

apply plugin: 'java'

sourceCompatibility = 9

repositories {
    mavenCentral()
}

dependencies {
}

subprojects {
    afterEvaluate { Project project ->
        compileJava {
            inputs.property("moduleName", moduleName)
//            if (!moduleName.equals("log4j.bridge")) {
                doFirst {
                    options.compilerArgs = [
                            '--module-path', classpath.asPath,
                    ]
                    classpath = files()
                }
//            }
        }

        jar {
            inputs.property("moduleName", moduleName)
            manifest {
                attributes('Automatic-Module-Name': moduleName)
            }
        }
    }
}